Include /etc/apache2/fqdn.conf

ServerName ${FQDN}
SSLStrictSNIVHostCheck off
WSGIRestrictStdout off

<VirtualHost *:80>
	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel error

	<Directory /srv/www/>
        Options FollowSymlinks
        AllowOverride none
        Require all granted
        </Directory>

	Header always set Strict-Transport-Security "max-age=63072000; includeSubdomains;"
    #ServerName https://${FQDN}

	ProxyPreserveHost off
    ProxyRequests off

    LogLevel debug
	ErrorLog /var/log/apache2/error.log
    CustomLog ${APACHE_LOG_DIR}/ssl_access.log combined


        <FilesMatch "\.(cgi|shtml|phtml|php)$">
                SSLOptions +StdEnvVars
        </FilesMatch>
        <Directory /usr/lib/cgi-bin>
                SSLOptions +StdEnvVars
        </Directory>
        BrowserMatch "MSIE [2-6]" \
                nokeepalive ssl-unclean-shutdown \
                downgrade-1.0 force-response-1.0
        # MSIE 7 and newer should be able to use keepalive
        BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown


        RedirectMatch ^/$ /las/index/

        WSGIDaemonProcess las user=www-data group=www-data processes=8 threads=25
        WSGIProcessGroup las
        WSGIApplicationGroup %{RESOURCE}

        Alias /lasauth_media/ /srv/www/LASAuthServer/media/
        Alias /tissue_media/ /srv/www/catissue/tissue/tissue_media/
        Alias /archive_media/ /srv/www/storage/archive/archive_media/
        Alias /xeno_media/ /srv/www/caxeno/xenopatients/xeno_media/
        Alias /cell_media/ /srv/www/cellline/cell_media/
        Alias /caQuery_media/ /srv/www/caquery/_caQuery/caQuery_media/
        Alias /uarray_media/ /srv/www/uarray/MMM/uarray_media/
        Alias /rtpcr_media/ /srv/www/realTime/rtpcr/rtpcr_media/
        Alias /sanger_media/ /srv/www/sangerLight/sangerApp/sanger_media/
        Alias /profiling_media/ /srv/www/fingerPrinting/profiling/profiling_media/
        Alias /biopsy_media/ /srv/www/beaming/biopsy/biopsy_media/
        Alias /dpcr_media/ /srv/www/digitalPcr/dpcr/dpcr_media/
        Alias /ngs_media/ /srv/www/ngsmanager/ngs/ngs_media/
        Alias /datamanager_media/ /srv/www/repmanager/datamanager/datamanager_media/
        Alias /annotations/media/ /srv/www/annotationsManager/media/
        Alias /newannotations/media/ /srv/www/newAnnotationsManager/media/
        Alias /mining_media/ /srv/www/analysismanager/mining/mining_media/
        Alias /clinical_media/ /srv/www/clinicalManager/clinical_media/
        #Alias /primers/primer_media/ /srv/www/reagents/primers/primer_media/
        Alias /tree_images/ /srv/www/caquery/_caQuery/tree_images/
        Alias /static/ /srv/www/catissue/static/

        WSGIScriptAlias /las /srv/www/LASAuthServer/apache/django.wsgi
        WSGIScriptAlias /biobank /srv/www/catissue/apache/django.wsgi
        WSGIScriptAlias /storage /srv/www/storage/apache/django.wsgi
        WSGIScriptAlias /xeno /srv/www/caxeno/apache/django.wsgi
        WSGIScriptAlias /cellline /srv/www/cellline/apache/django.wsgi
        WSGIScriptAlias /mdam /srv/www/caquery/apache/django.wsgi
        WSGIScriptAlias /micro /srv/www/uarray/apache/django.wsgi
        WSGIScriptAlias /realTime /srv/www/realTime/apache/django.wsgi
        WSGIScriptAlias /sanger /srv/www/sangerLight/apache/django.wsgi
        WSGIScriptAlias /fingerPrinting /srv/www/fingerPrinting/apache/django.wsgi
        WSGIScriptAlias /liqbiopsy /srv/www/beaming/apache/django.wsgi
        WSGIScriptAlias /dpcr /srv/www/digitalPcr/apache/django.wsgi
        WSGIScriptAlias /ngs /srv/www/ngsmanager/apache/django.wsgi
        WSGIScriptAlias /clinical /srv/www/clinicalManager/apache/django.wsgi
        WSGIScriptAlias /repmanager /srv/www/repmanager/apache/django.wsgi
        WSGIScriptAlias /annotations /srv/www/annotationsManager/apache/django.wsgi
        WSGIScriptAlias /newannotations /srv/www/newAnnotationsManager/apache/django.wsgi
        WSGIScriptAlias /analysis /srv/www/analysismanager/apache/django.wsgi

</VirtualHost>


