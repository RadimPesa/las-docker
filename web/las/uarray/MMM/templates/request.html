{% extends "baseReport.html" %}
{% block script %}
<script type="text/javascript">
var actionname = 'Request';
</script>
{% endblock %}
{% block title %}Request report{% endblock %}


{% block content %}

<style>
	td.reqinfo{
		border: 0px;
	}
	th.reqinfo{
		border: 0px;
		text-align:	right;
		padding-right: 20px;
	}
	
	td#bottoni{
		-moz-border-radius: 5px;
		-webkit-border-radius: 5px;
		border-radius: 5px;
		border: 1px solid #003600;
	}
	td#bottoni:hover{
		background-color: #E0E0E0;
	}
	
</style>

<div>
<p style="color:red">{{ errore }}</p>
<article id="riquadro" style="margin-bottom:20px;max-width:50%;">
<div id="request_info">
	<h3>Request Info</h3>
	<table id="request_info" cellspacing="3" style="margin-bottom:20px;margin-top:25px;margin-left:22px;">             
	     <tbody>
	        <tr> 
	            <th class="reqinfo">Id:</th> 
	            <td class="reqinfo">{{request.id}}</td> 
	        </tr>
	        <tr> 
	            <th class="reqinfo">Request By:</th> 
	            <td class="reqinfo">{{request.owner}}</td> 
	        </tr>
	        <tr> 
	            <th class="reqinfo">Assigned to:</th> 
	            <td class="reqinfo">{{request.idOperator.username}}</td> 
	        </tr>
	        <tr>
	        	<th class="reqinfo">Date:</th> 
	            <td class="reqinfo">{{request.timestamp}}</td> 
	        </tr>
			<tr>
	        	<th class="reqinfo">Title:</th> 
	            <td class="reqinfo">{{request.title}}</td> 
	        </tr>
			<tr>
	        	<th class="reqinfo">Description:</th> 
	            <td class="reqinfo">{{request.description}}</td> 
	        </tr>
	    </tbody> 
	</table>
</div>
</article>

<fieldset id="chip_position_layout">
	<legend>Aliquots</legend>
	<table class='report' cellspacing="5">
		 	<thead>
				<tr> 
					<th>#</th>
					<th>Genealogy ID</th>   
		            <th>Barcode/Label</th>
		            <th>Plate Position</th>
		            <th>Plate</th>
		            <th>Rack Position</th>
		            <th>Rack</th>
		            <th>Freezer</th>
		            <th>Sample Feature</th> 
		            <th>Experimental Group</th>
		            <th>Volume (ul)</th>
		            <th>Concentration (ng/ul)</th>
					<th>Date</th>
					<th>Owner</th>
					<th>Technical Replicates</th>
		        </tr>
	        </thead>
	        <tbody>
    {% for aliquot in al_req %} 
		 		
		        <tr>
		        	<td>{{forloop.counter}}</td> 
		            <td>{{aliquot.genId}}</td> 
		            {% if aliquot.barcode %}
		            	<td>{{aliquot.barcode}}</td>
		            {% else %}
		            	<td>{{aliquot.sample_identifier}}</td>
		            {% endif %}
		            <td>{{aliquot.pos}}</td>
		            <td>{{aliquot.father_container}}</td>
		            <td>{{aliquot.rack_pos}}</td>
		            <td>{{aliquot.rack}}</td>
		            <td>{{aliquot.freezer}}</td>
		            <td>{{aliquot.sample_features}}</td>
					<td>{{aliquot.exp_group}}</td>
		            <td>{{aliquot.volume}}</td>
		            <td>{{aliquot.concentration}}</td>
					<td>{{aliquot.date}}</td> 
					<td>{{aliquot.owner}}</td>
					<td>{{aliquot.tech_replicates}}</td>      
		        </tr>
	 
	{% endfor %}
	       </tbody>
	</table> 
</fieldset>
</div>
{% endblock %}

